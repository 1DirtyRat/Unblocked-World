"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5336],{7503:(e,t,n)=>{n.d(t,{Go:()=>$,QK:()=>J,py:()=>F});var o={};n.r(o),n.d(o,{loadCMPEpic:()=>O,startCMPLoadingEpic:()=>P});var i={};n.r(i),n.d(i,{closeSearchEpic:()=>Q,openSearchEpic:()=>N,pagePulseEpic:()=>M,pageViewEpic:()=>I,searchResultsEpic:()=>x});var a={};n.r(a),n.d(a,{getPageDoneEpic:()=>V});var r=n(2915),l=n(6515),c=n(7877),s=n(4405),u=n(4430),p=n(230),d=n(1545),v=n(5069),f=n(4975),y=n(4727),g=n(9127),m=n(4927),h=n(8813),w=n(111),_=n(8656),b=n(6151),E=n(6712),S=n(8132),A=n(3748),k=n(9263);function O(e,t){return e.pipe((0,v.l)(h.Iy.type),(0,f.h)((()=>"content"!==(0,_.Wj)(t.value))),(0,y.q)(1),(0,c.z)((()=>new p.y((e=>{var n,o;const i=(0,b.tl)(t.value),a=(0,b.g$)(t.value);if("undefined"==typeof window||!(0,b.nE)(t.value)&&!i)return;const r=document.createElement("script"),l=document.getElementsByTagName("script")[0],c="https://cmp.quantcast.com".concat("/choice/",a?"zGy1A22Dgv6PW":"E_PXTAq4C0D1u","/poki.com/choice.js?tag_version=V2");let s=0;r.async=!0,r.type="text/javascript",r.src=c,r.onerror=()=>{(0,A.A)({category:"consent",action:"bootError"})},l.parentNode.insertBefore(r,l),function(){const e="__tcfapiLocator",t=[];let n,o=window;for(;o;){try{if(o.frames[e]){n=o;break}}catch(e){}if(o===window.top)break;o=o.parent}n||(!function t(){const n=o.document,i=!!o.frames[e];if(!i)if(n.body){const t=n.createElement("iframe");t.style.cssText="display:none",t.name=e,n.body.appendChild(t)}else setTimeout(t,5);return!i}(),o.__tcfapi=function(){let e;const n=arguments;if(!n.length)return t;if("setGdprApplies"===n[0])n.length>3&&2===n[2]&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0));else if("ping"===n[0]){const t={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof n[2]&&n[2](t)}else"init"===n[0]&&"object"==typeof n[3]&&(n[3]=Object.assign(n[3],{tag_version:"V2"})),t.push(n)},o.addEventListener("message",(function(e){const t="string"==typeof e.data;let n={};try{n=t?JSON.parse(e.data):e.data}catch(e){}const o=n.__tcfapiCall;o&&window.__tcfapi(o.command,o.version,((n,i)=>{let a={__tcfapiReturn:{returnValue:n,success:i,callId:o.callId}};t&&(a=JSON.stringify(a)),e&&e.source&&e.source.postMessage&&e.source.postMessage(a,"*")}),o.parameter)}),!1))}();const u=()=>{const e=arguments;typeof window.__uspapi!==u&&setTimeout((()=>{void 0!==window.__uspapi&&window.__uspapi.apply(window.__uspapi,e)}),500)};let p;const d=()=>{s++,window.__uspapi===u&&s<3?console.error("USP is not accessible"):clearInterval(p)};void 0===window.__uspapi&&(window.__uspapi=u,p=setInterval(d,6e3));let v=!1;window.__tcfapi("addEventListener",2,((e,n)=>{if((0,A.A)({category:"consent",action:e.eventStatus}),n&&"cmpuishown"===e.eventStatus){!function(e){let{privacyUrl:t,cookieStatementUrl:n,termsOfUseUrl:o,localisations:i}=e;const a=[{label:i.privacy_statement,url:t},{label:i.cookie_statement,url:n},{label:i.nav_terms_of_use,url:o}].map((e=>{const t=document.createElement("a");return t.setAttribute("href",e.url),t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"),t.innerText=e.label,t})),r='\n\t\t<div class="poki-qc-cmp2-footer-links">\n\t\t\t'.concat(a.map((e=>e.outerHTML)).join(" &#x2022; "),"\n\t\t</div>\n\t");(0,k.Z)("#qc-cmp2-ui").then((e=>{e.insertAdjacentHTML("beforeend",r)}))}({privacyUrl:(0,_.uJ)(t.value),cookieStatementUrl:(0,_.vJ)(t.value),termsOfUseUrl:(0,_.Tm)(t.value),localisations:(0,w.B)(t.value)})}if(n&&("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)){if(v&&!i){var o,a;let t=!1;null!=e&&null!==(o=e.purpose)&&void 0!==o&&null!==(a=o.consents)&&void 0!==a&&a[1]&&(t=!0);try{window.localStorage.setItem("localStorageConsentSet",t)}catch(e){}window.localStorageConsentSet=t,window.location.reload()}v=!0}})),window.__tcfapi("addEventListener",2,((t,n)=>{if((0,A.A)({category:"consent",action:t.eventStatus}),i&&"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,((t,n)=>{if(n){const{uspString:n}=t;e.next((0,h.X1)({usPrivacyString:n}))}})),n&&("tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus)){var o,a;null!=t&&null!==(o=t.purpose)&&void 0!==o&&null!==(a=o.consents)&&void 0!==a&&a[1]?(window.localStorageConsentSet=!0,(0,S.Xq)(),(0,A.A)({category:"consent",action:"full"}),e.next((0,h.dY)({consentStatus:E.El}))):(window.localStorageConsentSet=!1,(0,A.A)({category:"consent",action:"no"}),e.next((0,h.dY)({consentStatus:E.mo})));try{window.localStorage.setItem("localStorageConsentSet",window.localStorageConsentSet)}catch(e){}window.__tcfapi("getNonIABVendorConsents",2,((e,t)=>{if(!t||!e)return;const{nonIabVendorConsents:n}=e;n&&(0,A.A)({category:"consent",action:"noniab",data:{nonIABConsents:n}})})),window.__tcfapi("removeEventListener",2,(()=>{}),t.listenerId)}})),null===(n=window.tracker)||void 0===n||null===(o=n.installTCFHandler)||void 0===o||o.call(n)})))))}function P(e,t){return(0,b.g$)(t.value)?d.E:e.pipe((0,v.l)(h.Qi.type,m.o8.type),(0,y.q)(1),(0,g.U)((()=>(0,h.Iy)())))}var C=n(6697),q=n(2006),U=n(533),j=n(4978),L=n(5841),T=n(6924);function I(e){let t=0;return e.pipe((0,v.l)(h.Qi.type,m.o8.type),(0,q.b)((()=>{t>0&&(0,A.A)({category:"pageview",options:{interaction:!0}}),t++})),(0,U.l)())}function M(e){return e.pipe((0,v.l)(h.Qi.type,m.o8.type),(0,j.w)((()=>(0,C.F)(3e4))),(0,q.b)((()=>{(0,A.A)({category:"page",action:"pulse"})})),(0,U.l)())}function N(e,t){return e.pipe((0,v.l)(L.UL.type),(0,q.b)((()=>{const e=(0,T.ZM)(t.value);(0,A.A)({category:"searchPanel",action:"open",data:{searchSessionId:e},options:{interaction:!0,pageTypeAsLabel:!0}})})),(0,U.l)())}function Q(e,t){return e.pipe((0,v.l)(L.hF.type),(0,q.b)((()=>{const e=(0,T.ZM)(t.value);(0,A.A)({category:"searchPanel",action:"close",data:{searchSessionId:e},options:{interaction:!0,pageTypeAsLabel:!0}})})),(0,U.l)())}function x(e,t){return e.pipe((0,v.l)(L.QV.type),(0,q.b)((e=>{let{content:n,isQuickCategorySearch:o=!1}=e;const i=(0,T.ZM)(t.value),a=(0,T.xM)(t.value),{categories:r,games:l}=n,c=r.length+l.length,s=c>0?"success":"empty";(0,A.A)({category:"search",action:"results",data:{query:a,result:s,numberOfResults:c,searchSessionId:i,isQuickCategorySearch:o},options:{pageTypeAsLabel:!0}})})),(0,U.l)())}var D=n(2315),R=n(7900),Z=n(6619),B=n(6343);function V(e,t){return e.pipe((0,v.l)(m.o8.type),(0,q.b)((()=>{(0,Z.k)(),(0,B.Z)((0,_.$g)(t.value))})),(0,U.l)())}const $=new l.X((0,r.l)(...s.Z,...Object.values(u),...Object.values(o),...Object.values(i),...Object.values(D),...Object.values(R),...Object.values(a))),F=(e,t,n)=>$.pipe((0,c.z)((o=>o(e,t,n))));async function J(){const e=await Promise.all([n.e(4406),n.e(3722),n.e(9563),n.e(65),n.e(5322),n.e(4691),n.e(6014)]).then(n.bind(n,6014)),t=await Promise.all([n.e(7753),n.e(9563),n.e(65),n.e(7529)]).then(n.bind(n,7529)),o=await Promise.all([n.e(3424),n.e(5299)]).then(n.bind(n,5299));$.next((0,r.l)(...Object.values(e),...Object.values(t),...Object.values(o))),window.store.dispatch((0,h.JV)())}},4430:(e,t,n)=>{n.r(t),n.d(t,{checkAutoRedirectEpic:()=>B,checkPrivacyPolicyEpic:()=>Z,fetchMysteryGameEpic:()=>G,googleAnalyticsPrivacyEpic:()=>J,isFamilyFriendlyAdsNotificationEpic:()=>V,pushTileClickEventEpic:()=>$,sendDeviceCapabilitiesEpic:()=>z,setScrollOffEpic:()=>D,setScrollOnEpic:()=>R,setScrollRestorationToManualEpic:()=>Q,setViewportOrientationEpic:()=>N,setVisibilityEpic:()=>x,unregisterServiceWorkersEpics:()=>F});var o=n(8661),i=n(5069),a=n(2401),r=n(3071),l=n(2817),c=n(1545),s=n(9635),u=n(2034),p=n(6625),d=n(4727),v=n(9127),f=n(2965),y=n(2006),g=n(533),m=n(4975),h=n(7782),w=n(7877),_=n(378),b=n(4978),E=n(9878),S=n(6727),A=n(8813),k=n(5841),O=n(4927),P=n(6151),C=n(111),q=n(6924),U=n(8656),j=n(7344),L=n(3748),T=n(5597);const I=(0,S.ZP)({resolved:{},chunkName:()=>"app-components-AutoRedirectNotification",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(5709),n.e(6757),n.e(9559)]).then(n.bind(n,329)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 329}}),M=(0,S.ZP)({resolved:{},chunkName:()=>"app-components-FamilyModeCookieNotification",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(4103).then(n.bind(n,5648)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 5648}});function N(e){const t=window.matchMedia("(orientation: portrait)"),n=(0,a.R)(t,"change"),o=e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1));return(0,r.T)(o,n).pipe((0,v.U)((()=>(0,A.It)({orientation:t.matches?"portrait":"landscape"}))),(0,f.b)(100))}function Q(e){return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,y.b)((()=>{window.history.scrollRestoration="manual"})),(0,g.l)())}function x(e){return(0,r.T)(e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1)),(0,a.R)(document,"visibilitychange")).pipe((0,v.U)((()=>(0,A.iJ)({visibility:!document.visibilityState||"visible"===document.visibilityState}))))}function D(e){return e.pipe((0,i.l)(k.UL.type),(0,y.b)((()=>{document.body.style.overflow="hidden"})),(0,g.l)())}function R(e){return e.pipe((0,i.l)(k.hF.type),(0,y.b)((()=>{document.body.style.overflow="auto"})),(0,g.l)())}function Z(e,t){(0,P.OK)(t.value);const n=(0,U.uJ)(t.value),a=(0,C.B)(t.value);return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,m.h)((()=>!window.user.is_new&&!1)),(0,h.g)(5e3),(0,w.z)((()=>[(0,A.su)({revision:"0"}),(0,A.sc)({notification:{title:"".concat('<img src="https://a.poki.com/images/icon-animated-privacy-v1.svg" alt="Privacy icon" />').concat(a.privacy_updated_title),message:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,a.privacy_updated_text),o.default.createElement("p",null,o.default.createElement("a",{href:n,target:"_blank",rel:"noreferrer"},a.privacy_updated_link))),autoExpire:6e4}})])))}function B(e,t){const n=()=>(0,P.Zv)(t.value),a=e.pipe((0,i.l)(A.dY.type),(0,m.h)((()=>n())));return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,m.h)((()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.hash)||void 0===n?void 0:n.includes("#utm_source=redirect")})),(0,_.j)((()=>n()?(0,l.of)(void 0):a)),(0,v.U)((()=>{var e,n,i,a;let r,l;const s=(null===(e=window)||void 0===e||null===(n=e.location)||void 0===n||null===(i=n.hash)||void 0===i?void 0:i.replace("#utm_source=redirect-",""))||"";window.location.hash="",5===s.length&&([r,l]=s.split("-"));const u=(0,U.Ao)(t.value),p=u.find((e=>{var t;return(null==e||null===(t=e.href)||void 0===t?void 0:t.includes("poki.com/"))&&(null==e?void 0:e.lang)===r})),d=u.find((e=>{var t;return(null==e||null===(t=e.href)||void 0===t?void 0:t.includes("poki.com/"))&&(null==e?void 0:e.lang)===l}));if(!p||!d)return c.E;const v=(0,C.B)(t.value),f=v.auto_redirect_title.replace("[language]",d.languageName),y=v.auto_redirect_message.replace("[language]",p.languageName),g=null===(a=v.auto_redirect_button)||void 0===a?void 0:a.replace("[language]",p.languageName);return(0,L.A)({category:"page",action:"autoRedirectImpression",data:{from:p.languageName,to:d.languageName}}),(0,A.sc)({notification:{title:o.default.createElement(I,{title:f}),message:o.default.createElement(I,{message:y,button:g,href:null==p?void 0:p.href,lang:null==p?void 0:p.lang}),autoExpire:1e4}})})))}function V(e,t){return e.pipe((0,i.l)(A.Qi.type),(0,m.h)((()=>(0,P.g$)(t.value)&&!(0,P.oE)(t.value))),(0,d.q)(1),(0,v.U)((()=>(0,A.sc)({notification:{title:o.default.createElement(M,{renderOnlyTitle:!0}),message:o.default.createElement(M,null),autoExpire:1e4,small:!0,onExplicitClose:()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.store)||void 0===t||t.dispatch((0,A.Z9)({consent:!0}))}}}))))}function $(e,t){return e.pipe((0,i.l)(A.XP.type),(0,v.U)((e=>{let{params:n}=e;const o={...n,searchExpanded:(0,q.RG)(t.value),searchQuery:(0,q.xM)(t.value),searchSessionId:(0,q.ZM)(t.value)};(0,L.A)({category:"tile",action:"click",data:o})})),(0,g.l)())}function F(e){return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,y.b)((()=>{var e,t;null===(e=navigator)||void 0===e||null===(t=e.serviceWorker)||void 0===t||t.getRegistrations().then((e=>{e.forEach((e=>{console.info("Poki: unregistering ServiceWorker",e),e.unregister()}))}))})),(0,g.l)())}function J(e,t){return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,y.b)((()=>{const e=(0,U.uJ)(t.value),n=(0,j.lH)(t.value),o="https://".concat(n.domain).concat(e);console.info("%cGoogle Analytics is blocked by Poki, refer to our privacy statement (".concat(o,")"),"background:rgb(0, 156, 255);color:#fff")})),(0,g.l)())}function z(e,t){return e.pipe((0,i.l)(O.o8.type),(0,d.q)(1),(0,m.h)((()=>!(0,P.g$)(t.value))),(0,y.b)((()=>{(0,T.Z)()})),(0,g.l)())}function G(e,t){var n,o;if(Math.random()>.1||(0,P.eD)(t.value)||"GB"===(0,P.Zn)(t.value)||(0,P.At)(t.value)||"4g"!==(null===(n=navigator)||void 0===n||null===(o=n.connection)||void 0===o?void 0:o.effectiveType))return c.E;return e.pipe((0,i.l)(A.Qi.type),(0,d.q)(1),(0,w.z)((()=>(0,s.D)(fetch("https://mystery-game-tile.poki.io/v0/mystery-game")))),(0,w.z)((e=>(0,s.D)(e.json()))),(0,_.j)((()=>e.pipe((0,i.l)(O.h$.type)))),(0,b.w)((t=>{let{path:n}=t;return n?(0,u.z)((0,l.of)((0,A.Dy)({path:n})),(0,l.of)((0,A.$u)({canShow:!0})),(0,p.H)(3e5).pipe((0,_.j)((()=>e.pipe((0,i.l)(O.h$.type)))),(0,v.U)((()=>(0,A.$u)({canShow:!1}))))):(0,l.of)(c.E)})),(0,E.K)((()=>c.E)))}}}]);