"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2714],{7900:(e,i,o)=>{o.r(i),o.d(i,{adLibsNotLoadedEpic:()=>B,destoryAllInGameDisplayAdsEpic:()=>V,destoryGoogleRewardedWebEpic:()=>z,destroyAdEpic:()=>q,initAdsEpic:()=>I,initCCPAPrivacyEpic:()=>O,lazyStartMonetizationCoreEpic:()=>K,processAdEpic:()=>L,receivePokiSDKGameCommandsEpic:()=>Z,updateAdsOnNavigationEpic:()=>j});var l=o(5069),n=o(230),t=o(2817),d=o(4975),a=o(4727),r=o(7877),u=o(378),s=o(2006),c=o(533),p=o(9127),v=o(3732),w=o(4862),m=o(8813),y=o(905),f=o(4927),g=o(9317),A=o(6151),k=o(1308),_=o(6084),h=o(8855),S=o(8656),b=o(132),D=o(3748),P=o(8092),E=o(6343);const x=e=>{const i=(0,g.sY)(e),o=(0,A.tl)(e),l=(0,A.g$)(e),n=(0,A.Zn)(e);return{bot:"true"===window.pokiBotVerified,experiment:i.experiment,isPokiIframe:!1,siteID:i.site_id,tag:i.tag,ccpaApplies:o,country:n,runningOnPlayground:!0,nonPersonalized:l,familyFriendly:l}},C=e=>{const i=(0,S.J1)(e),o=(0,A.z7)(e),l=(0,S.ex)(e);let n="";return o?n="landing":l&&(n="crosspromo"),{categories:((null==i?void 0:i.categories)||[]).map((e=>{let{id:i}=e;return i})),gameID:i?i.pokifordevs_game_id:"",contentGameID:null==i?void 0:i.id,specialCondition:n}};function I(e,i){return e.pipe((0,l.l)(m.Qi.type,f.o8.type),(0,d.h)((()=>["game","preview"].includes((0,S.Wj)(i.value)))),(0,a.q)(1),(0,r.z)((()=>new n.y((e=>{const o=(0,k.L)(i.value);window.pbjs.que.push((()=>{window.pbjs.addAdUnits(o.adUnits)}));const l=()=>{e.next((0,w.xZ)()),e.complete()},n=(0,A.eD)(i.value),t=(0,A.g$)(i.value);(window.adBridge=!0,window.pokiSDKVersion=(0,_.R)(i.value),Promise.all([(0,b.v)("https://game-cdn.poki.com/scripts/v2/poki-sdk.js")])).then((()=>{var d,a,r;(0,P.$8)(),null===(d=window)||void 0===d||null===(a=d.PokiSDK)||void 0===a||null===(r=a.init)||void 0===r||r.call(a,{wrapper:(0,P.AF)(n),prebid:{config:o.config},startupParams:{...x(i.value),...C(i.value)},strictConsentMode:!0,nonPersonalized:t,familyFriendly:t,onAdblocked:l}).then((()=>{(0,E.Z)(),e.next((0,w.xZ)()),e.complete()})).catch(l)}))})))))}function K(e,i){return e.pipe((0,l.l)(w.xZ.type,m.dY.type,y.Gq.type),(0,d.h)((()=>(0,g.y0)(i.value))),(0,a.q)(1),(0,r.z)((()=>new n.y((e=>{var i,o,l,n;null===(i=window)||void 0===i||null===(o=i.PokiSDK)||void 0===o||null===(l=o.startLoadingMonetizationCore)||void 0===l||null===(n=l.call(o))||void 0===n||n.then((()=>{e.next((0,w.qs)()),e.complete()})).catch((i=>{let o;try{o=JSON.stringify(i)}catch(i){}e.next((0,w.Ux)()),(0,D.A)("ads","adblocked",{playground:"".concat(i.message||i),sdk:"".concat(o)}),e.next((0,w.qs)())}))})))))}function j(e,i){const o=e.pipe((0,l.l)(w.xZ.type));return e.pipe((0,l.l)(f.o8.type),(0,u.j)((()=>(0,g.XZ)(i.value)?(0,t.of)(void 0):o)),(0,d.h)((()=>["game","preview"].includes((0,S.Wj)(i.value)))),(0,s.b)((()=>{var e,o,l;null===(e=window)||void 0===e||null===(o=e.PokiSDK)||void 0===o||null===(l=o.setRuntimeInformation)||void 0===l||l.call(o,C(i.value))})),(0,c.l)())}function q(e,i){const o=e.pipe((0,l.l)(w.xZ.type));return e.pipe((0,l.l)(w.VJ.type),(0,u.j)((()=>(0,g.XZ)(i.value)?(0,t.of)(void 0):o)),(0,s.b)((e=>{var o,l,n;let{code:t}=e;if(!(0,k.O)(i.value).find((e=>{let{code:i}=e;return i===t})))return void console.error("Investigate AdStack ad was undefined on destroyAdSlot");const d=document.getElementById(t);d?null===(o=window)||void 0===o||null===(l=o.PokiSDK)||void 0===l||null===(n=l.destroyAd)||void 0===n||n.call(l,d):console.error("Investigate AdStack adContainer was undefined on destroyAdSlot (React unloaded?)")})),(0,c.l)())}function L(e,i){const o=e.pipe((0,l.l)(w.qs.type));return e.pipe((0,l.l)(w.Cq.type,w.SB.type),(0,u.j)((()=>(0,g.HO)(i.value)?(0,t.of)(void 0):o)),(0,d.h)((()=>["game","preview"].includes((0,S.Wj)(i.value)))),(0,d.h)((()=>!(0,g.xU)(i.value))),(0,s.b)((e=>{var o,l,n;let{code:t,refreshType:d}=e;const a=(0,k.O)(i.value).find((e=>{let{code:i}=e;return i===t}));if(!a)return void console.error("Investigate AdStack ad was undefined on display/refresh");const r=document.getElementById(t);if(!r)return void console.warn("Investigate AdStack adContainer was undefined on display/refresh",r,a,t);const u={...(0,g.sY)(i.value),...(0,A.tl)(i.value)?{us_privacy:(0,A.yu)(i.value)}:{},refreshType:d},s=document.getElementById("game-element");if(s){const e=s.getBoundingClientRect();u.player_size=e.width}const c=v.Z.mobile.mobile_gamebar_320x50(i.value);var p,w,m;if(t===(null==c?void 0:c.code))return u["game-id"]="",void(null===(p=window)||void 0===p||null===(w=p.PokiSDK)||void 0===w||null===(m=w.playgroundPlatformAd)||void 0===m||m.call(w,r,a.code,"".concat(a.width,"x").concat(a.height),u,!0));u.p4d_game_id="",u.p4d_game_id_cond="",null===(o=window)||void 0===o||null===(l=o.PokiSDK)||void 0===l||null===(n=l.playgroundPlatformAd)||void 0===n||n.call(l,r,a.code,"".concat(a.width,"x").concat(a.height),u)})),(0,c.l)())}function O(e,i){return e.pipe((0,l.l)(m.Qi.type),(0,a.q)(1),(0,s.b)((()=>{(0,A.tl)(i.value)&&window.addEventListener("message",(e=>{const i=e&&e.data&&e.data.__uspapiCall;i&&window.__uspapi&&window.__uspapi(i.command,i.version,((o,l)=>{e.source.postMessage({__uspapiReturn:{returnValue:o,success:l,callId:i.callId}},"*")}))}),!1)})),(0,c.l)())}function Z(e,i){const o=e.pipe((0,l.l)(w.xZ.type)),n=(0,A.eD)(i.value);return e.pipe((0,l.l)(y.iq.type),(0,u.j)((()=>(0,g.XZ)(i.value)?(0,t.of)(void 0):o)),(0,d.h)((()=>["game","preview"].includes((0,S.Wj)(i.value)))),(0,s.b)((e=>{var o,l,t,d,a,r,u,s,c,p,v,w;let{event:m,data:y,source:f}=e;const k=(0,A.eD)(i.value),_=(0,A.$9)(i.value),S=(0,h.Eo)(i.value);switch(m){case"adTiming":(0,P.eJ)({...y,isAdBlocked:(0,g.N9)(i.value)},f);break;case"forcePreroll":null===(o=window)||void 0===o||null===(l=o.PokiSDK)||void 0===l||null===(t=l.forcePreroll)||void 0===t||t.call(l);break;case"startStartAdsAfterTimer":null===(d=window)||void 0===d||null===(a=d.PokiSDK)||void 0===a||null===(r=a.startStartAdsAfterTimer)||void 0===r||r.call(a);break;case"muteAd":null===(u=window)||void 0===u||null===(s=u.PokiSDK)||void 0===s||null===(c=s.muteAd)||void 0===c||c.call(s);break;case"setVolume":null===(p=window)||void 0===p||null===(v=p.PokiSDK)||void 0===v||null===(w=v.setVolume)||void 0===w||w.call(v,y.volume);break;case"requestVideoAd":(0,P.u9)(y,f);break;case"destroyAd":(0,P.eX)(y,f);break;case"displayAd":k&&"landscape"===_||!k&&S?(0,P.rR)(y,n,f):(0,P.eX)(y,f)}})),(0,c.l)())}function B(e,i){return e.pipe((0,l.l)(y.iq.type),(0,d.h)((()=>["game","preview"].includes((0,S.Wj)(i.value)))),(0,d.h)((e=>{let{event:i}=e;return"adLibrariesNotLoaded"===i})),(0,p.U)((()=>(0,m.Bl)({isVisible:!0}))))}function V(e,i){const o=e.pipe((0,l.l)(w.qs.type));return e.pipe((0,l.l)(f.o8.type),(0,u.j)((()=>(0,g.HO)(i.value)?(0,t.of)(void 0):o)),(0,s.b)((()=>{var e,i,o;null===(e=window)||void 0===e||null===(i=e.PokiSDK)||void 0===i||null===(o=i.stopVideoAd)||void 0===o||o.call(i),(0,P.aH)()})),(0,c.l)())}function z(e,i){const o=e.pipe((0,l.l)(w.qs.type));return e.pipe((0,l.l)("@@router/LOCATION_CHANGE"),(0,u.j)((()=>(0,g.HO)(i.value)?(0,t.of)(void 0):o)),(0,d.h)((()=>window.location.toString().includes("#fullscreen"))),(0,s.b)((()=>{var e,i,o;null===(e=window)||void 0===e||null===(i=e.PokiSDK)||void 0===i||null===(o=i.stopVideoAd)||void 0===o||o.call(i)})),(0,c.l)())}}}]);